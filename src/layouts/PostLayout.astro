---
import BaseLayout from './BaseLayout.astro'
import BaseHead from '../components/BaseHead.astro'
import BaseDate from '../components/BaseDate.vue'

const { title, description, date } = Astro.props.content
const permalink = Astro.request.canonicalURL.href

const headProps = {
	title,
	description,
	permalink,
}
---

<html lang="en">
	<head>
		<BaseHead {...headProps} />
	</head>
	<body>
		<BaseLayout>
			<section class="px-8 pt-8 prose lg:prose-xl sm:mx-auto">
				<h1 class="title">{title}</h1>

				{date && (
					<p>
						<span class="font-bold underline">Posted on:</span>
						<BaseDate {date} client:only />
					</p>
				)}

				<article class="post">
					<slot />
				</article>
			</section>
		</BaseLayout>
	</body>
</html>
